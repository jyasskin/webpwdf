<link rel="import" href="../bower_components/polymer/polymer.html">
<script src="https://www.dropbox.com/static/api/dropbox-datastores-1.0-latest.js" type="text/javascript"></script>

<polymer-element name="dropbox-datastore" attributes="key">
  <template>
    <style>
      /* styles for the custom element itself - lowest specificity */
      :host { display: none; }
    </style>
    <span>I'm <b>polymer-dropboxDatastore</b>. This is my Shadow DOM.</span>
  </template>
  <script>
    Polymer('dropbox-datastore', {
      keyChanged: function() {
        this.client = new Dropbox.Client({key: this.key});

        // Try to finish OAuth authorization.
        this.client.authenticate({interactive: false}, function (error) {
          if (error) {
            console.error('Authentication error: ', error);
          }
        });
      },
    });
  </script>
</polymer-element>
